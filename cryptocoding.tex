% !TeX document-id = {3a79955a-24b9-472e-b84d-cee6145e8891}
% !TeX TXS-program:compile = txs:///pdflatex/[--shell-escape]
\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[english,12pt,svgnames]{report}
\usepackage{ifthen}
\include{config}
\usepackage[utf8]{inputenc}
\usepackage[iso]{isodate}
\usepackage[a4paper]{geometry}
\usepackage[myheadings]{fullpage}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{graphicx, wrapfig, subcaption, setspace, booktabs}
\usepackage[default]{lato}

\usepackage{amsmath}

%\usepackage{fourier}
%\usepackage[protrusion=true, expansion=true]{microtype}
\usepackage[english]{babel}
\usepackage{sectsty}
\sectionfont{\raggedright\large\sffamily\bfseries}
\usepackage{eso-pic, url, lipsum, xspace}
\usepackage{tabularx}
\usepackage[section]{placeins}
\usepackage{needspace}
\usepackage{hyperref}
\hypersetup{
	colorlinks   = true, %Colours links instead of ugly boxes
	urlcolor     = blue, %Colour for external hyperlinks
	linkcolor    = blue, %Colour of internal links
	citecolor   = red %Colour of citations
}
\usepackage{titlesec}
\usepackage{titletoc}
%\usepackage{attachfile}
%\usepackage{longtable}
%\usepackage{tikz}
\usepackage{warning} % for warning messages
\usepackage{csquotes}

\usepackage[sc]{mathpazo}
\usepackage[default,osfigures,scale=0.95]{opensans}
\renewcommand*\familydefault{\sfdefault}
\usepackage[T1]{fontenc}

%\ifthenelse{\boolean{isDebug}}{\overfullrule=2cm}{}

\usepackage{xcolor}
\usepackage[newfloat]{minted}
\usepackage{caption}

% Layout
\titleformat{\chapter}[hang]{\Huge}{\thechapter\hspace{2ex}}{0pt}{\Huge}
%\setlength{\parindent}{0pt} % keine absaetze
\newcommand{\pbspace}{\needspace{.19\textheight}}

% configure minted to show code nicely
\setminted{frame=lines,framesep=2mm,baselinestretch=1.2,fontsize=\footnotesize,linenos,breaklines=true,breakbytoken=true,breakanywhere=true}

% break overly long URLs
\expandafter\def\expandafter\UrlBreaks\expandafter{\UrlBreaks%  save the current one
  \do\a\do\b\do\c\do\d\do\e\do\f\do\g\do\h\do\i\do\j%
  \do\k\do\l\do\m\do\n\do\o\do\p\do\q\do\r\do\s\do\t%
  \do\u\do\v\do\w\do\x\do\y\do\z\do\A\do\B\do\C\do\D%
  \do\E\do\F\do\G\do\H\do\I\do\J\do\K\do\L\do\M\do\N%
  \do\O\do\P\do\Q\do\R\do\S\do\T\do\U\do\V\do\W\do\X%
  \do\Y\do\Z}

\newcommand{\HRule}[1]{\rule{\linewidth}{#1}}
\onehalfspacing{}
\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{5}

%% force text wrap, also in texit
\tolerance=1
\emergencystretch=\maxdimen
\hyphenpenalty=10000
\hbadness=10000



%-------------------------------------------------------------------------------
% HEADER & FOOTER
%-------------------------------------------------------------------------------
\pagestyle{fancy}
\fancyhf{}
\setlength\headheight{15pt}
\fancyhead[L]{\scriptsize\ReportTitle{}}
\fancyfoot[R]{\scriptsize{}Page \thepage{}\ of~\pageref{LastPage}}


%-------------------------------------------------------------------------------
% CUSTOM SECTIONS
%-------------------------------------------------------------------------------

\newboolean{threedigits}
\titleclass{\rule}{straight}[\chapter]
\newtotcounter{rule}
% Prepends 0s in front of the counter, if you want just two digits set this bool to false
\setboolean{threedigits}{true}
\newcommand{\therulenum}{\ifthreedigits\ifnum\value{rule}<100
0\fi\fi\ifnum\value{rule}<10 0\fi\arabic{rule}}
\newcommand{\findformat}{\csecname-\therulenum}
\titleformat{\rule}{\normalfont\large\bfseries}{\findformat:~}{0em}{}

\renewcommand\therule{\findformat}


%\usepackage{tocloft}
%\renewcommand\cftfigaftersnum{:}
%\renewcommand\cfttabaftersnum{:}

%\newcommand{\ruleautorefname}{rule}
\makeatletter
\def\toclevel@rule{1}
\newcommand*\l@rule{\@dottedtocline{1}{1.5em}{8em}}
\makeatother

\titleclass{\obs}{straight}[\chapter]
\newtotcounter{obs}
% Prepends 0s in front of the counter, see above
\newcommand{\theobsnum}{\ifthreedigits\ifnum\value{obs}<100 0\fi\fi\ifnum\value{obs}<10 0\fi\arabic{obs}}
\newcommand{\obsformat}{\csecname-O-\theobsnum}
\titleformat{\obs}{\normalfont\large\bfseries}{\obsformat:~}{0em}{}

\renewcommand \theobs{\obsformat}
%\newcommand{\obsautorefname}{\obsformat}
\makeatletter
\def\toclevel@obs{1}
\newcommand*\l@obs{\@dottedtocline{1}{1.5em}{8em}}
\makeatother


% Spacing
\titlespacing*{\subsubsection}{0pt}{0.5ex plus 0.3ex}{0pt}
\titlespacing*{\section}{0pt}{1.5ex plus 0.4 ex minus 0.2 ex}{0.8ex plus 0.4 ex minus 0.2 ex}
\titlespacing*{\rule}{0pt}{1.5ex plus 0.4 ex minus 0.2 ex}{0.8ex plus 0.4 ex minus 0.2 ex}
\titlespacing*{\obs}{0pt}{1.5ex plus 0.4 ex minus 0.2 ex}{0.8ex plus 0.4 ex minus 0.2 ex}


%-------------------------------------------------------------------------------
% TITLE PAGE
%-------------------------------------------------------------------------------



\begin{document}
\title{ 
\includegraphics[width=6cm]{img/ks_logo.png}
        \\ [1.5cm]
        \HRule{0.5pt} \\
	\vspace*{0.5\baselineskip}
        {
                \Large
                \ReportTitle \\
        }
}

\date{}
\author{}

%\maketitle

{\setstretch{1.2}\tableofcontents}

{

\include{intro}

\newpage
\include{rules}

\newpage
\include{references}

\newpage
\include{about}

}

\end{document}
